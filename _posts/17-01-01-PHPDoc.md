---
anchor: phpdoc
---

# PHPDoc {#phpdoc}

PHPDoc is an informal standard for commenting PHP code. There are a *lot* of different [tags](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/index.html) available. The full list of tags and examples can be found at the [PHPDoc manual](http://www.phpdoc.org/docs/latest/index.html).

Below is an example of how you might document a class with a few methods;

{% highlight php %}
<?php

namespace Foo\MyProject\Utils;

use Foo\MyProject\Common\User;
use Foo\MyProject\Common\Role;
use Foo\MyProject\Common\DBObject;

use Foo\MyProject\Exception\DBException;
use Foo\MyProject\Exception\TooPoorException;

/**
 *  - Namespace classes
 *  - Use namespaces
 *  - Annotate properties
 *  - Document method arguments
 *  - Specify and describe the kind and nature of method arguments
 *  - Specify the kind and number of exceptions a method may throw
 *  - Specify a return type for each method
 *  - Do not break encapsulation by creating public properties
 */
class DocBlockExample
{
    /**
     * Injected database operations object
     *
     * @var DBObject
     */
    private $db;

    /**
     * Injected user object
     *
     * @var User
     */
    private $user;

    /**
     * Full name of the logged in user
     *
     * @var string
     */
    protected $userName;

    /**
     * Just this user's whole social, without any formatting
     *
     * @var int
     */
    private $socialSecurityNumber;

    /**
     * When can this person retire
     *
     * @var int
     */
    protected $retirementAge;

    /**
     * @param DBObject $db   Database handle
     * @param User     $user An active user
     */
    public function __construct(DBObject $db, User $user)
    {
        $this->db = $db;
        $this->user = $user;
    }

    /**
     * Method will calculate the user's retirement age based on social security number
     *
     * @return void
     */
    public function calculateRetirementAge()
    {
        $this->retirementAge = !empty($this->socialSecurityNumber) ? 65 : 80;
    }

    /**
     * Set meta-data on this user record in the users_meta table
     *
     * @param string $location    Users address
     * @param array  $likes       All the programming languages this person likes
     * @param array  $preferences Value array of preference_id(s) from the preferences table
     * @param float  $bankBalance Decimal dollar amount that this user has available at their disposal
     *
     * @throws TooPoorException
     * @throws DBException
     * @return bool Did the meta-data save?
     */
    public function setUserMetadata($location, $likes, $preferences, $bankBalance)
    {
        if ($bankBalance < 100.00) {
            throw new TooPoorException('Makes peasant joke...is peasant!');
        }

        $this->user->setLocation($location);
        $this->user->setLikes($likes);
        $this->user->setPreferences($preferences);
        $this->user->setBankBalance($bankBalance);

        return $this->user->save(); // Can throw DBException
    }

    /**
     * Add the current user to this given role
     *
     * @param int $role_id Role to add to
     *
     * @throws Exception
     * @return bool
     */
    public function addRole($role_id)
    {
        $role = new Role($role_id);
        return (!empty($this->id) && $role) ? $role->addUser($this->id) : false;
    }

    /**
     * Remove a user from the given role
     *
     * @param int $role_id Role to remove from this user
     *
     * @throws Exception
     * @return bool
     */
    public function removeRole($role_id)
    {
        $role = new Role($role_id);
        return (!empty($this->id) && $role) ? $role->removeUser($this->id) : false;
    }

    /**
     * @return DBObject
     */
    public function getDb()
    {
        return $this->db;
    }

    /**
     * @param DBObject $db
     */
    public function setDb($db)
    {
        $this->db = $db;
    }

    /**
     * @return User
     */
    public function getUser()
    {
        return $this->user;
    }

    /**
     * @param User $user
     */
    public function setUser($user)
    {
        $this->user = $user;
    }

    /**
     * @return string
     */
    public function getUserName()
    {
        return $this->userName;
    }

    /**
     * @param string $userName
     */
    public function setUserName($userName)
    {
        $this->userName = $userName;
    }

    /**
     * @return int
     */
    public function getSocialSecurityNumber()
    {
        return $this->socialSecurityNumber;
    }

    /**
     * @param int $socialSecurityNumber
     */
    public function setSocialSecurityNumber($socialSecurityNumber)
    {
        $this->socialSecurityNumber = $socialSecurityNumber;
    }

    /**
     * @return int
     */
    public function getRetirementAge()
    {
        if (!isset($this->retirementAge)) {
            $this->calculateRetirementAge();
        }
        return $this->retirementAge;
    }

    /**
     * @param int $retirementAge
     */
    public function setRetirementAge($retirementAge)
    {
        $this->retirementAge = $retirementAge;
    }
}
{% endhighlight %}

The documentation for the class as a whole firstly has the [@author](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/author.html) tag, this tag is used to document the author of the code and can be repeated for documenting several authors. Secondly is the [@link](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/link.html) tag, used to link to a website indicating a relationship between the website and the code. Thirdly it has the [@package](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/package.html) tag, used to categorize the code.

Inside the class, the first method has an [@param](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/param.html) tag documenting the type, name and description of the parameter being passed to the method. Additionally it has the [@return](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/return.html) and [@throws](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/throws.html) tags for documenting the return type, and any exceptions that could be throw respectively.

The second and third methods are very similar and have a single [@param](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/param.html) tag as did the first method. The import difference between the second and third method is doc block is the inclusion/exclusion of the [@return](http://www.phpdoc.org/docs/latest/references/phpdoc/tags/return.html) tag. `@return void` explicitly informs us that there is no return, historically omitting the `@return void` statement also results in the same (no return) action.
